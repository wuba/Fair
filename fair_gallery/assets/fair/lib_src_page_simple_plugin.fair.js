GLOBAL['#FairKey#']=(function(__initProps__){const __global__=this;return runCallback(function(__mod__){with(__mod__.imports){function _PluginDemoState(){const inner=_PluginDemoState.__inner__;if(this==__global__){return new _PluginDemoState({__args__:arguments});}else{const args=arguments.length>0?arguments[0].__args__||arguments:[];inner.apply(this,args);_PluginDemoState.prototype.ctor.apply(this,args);return this;}}_PluginDemoState.__inner__=function inner(){this.fairProps=__initProps__;this._pageName='#FairKey#';this.feedList=[];};_PluginDemoState.prototype={initState:function initState(){const __thiz__=this;with(__thiz__){onLoad();}},_getRouteName:function _getRouteName(){const __thiz__=this;with(__thiz__){if(fairProps!=null&&fairProps.__op_idx__('routeName')!=null){return fairProps.__op_idx__('routeName');}return'FairPlugin例子';}},onLoad:function onLoad(){const __thiz__=this;with(__thiz__){FairCommonPlugin().http(convertObjectLiteralToSetOrMap({['method']:'GET',['url']:'https://api.tuchong.com/feed-app',['pageName']:_pageName,['callback']:function dummy(result){if(result!=null){let statusCode=result.__op_idx__('statusCode');if(statusCode==200){let map=result.__op_idx__('json');if(map!=null){feedList=map.__op_idx__('feedList');setState('#FairKey#',function dummy(){});}}}},}));}},_onRefresh:function _onRefresh(input){const __thiz__=this;const __arg_ctx__={input,};with(__thiz__){with(__arg_ctx__){let futureId=input.__op_idx__('futureId');let argument=input.__op_idx__('argument');FairCommonPlugin().http(convertObjectLiteralToSetOrMap({['method']:'GET',['url']:'https://api.tuchong.com/feed-app',['pageName']:_pageName,['callback']:function dummy(result){if(result!=null){let statusCode=result.__op_idx__('statusCode');if(statusCode==200){let map=result.__op_idx__('json');if(map!=null){feedList=map.__op_idx__('feedList');setState('#FairKey#',function dummy(){});}}FairCommonPlugin().futureComplete(convertObjectLiteralToSetOrMap({['pageName']:_pageName,['futureId']:futureId,['futureValue']:null,}));}},}));}}},_getContent:function _getContent(index){const __thiz__=this;const __arg_ctx__={index,};with(__thiz__){with(__arg_ctx__){let item=feedList.__op_idx__(index);if(item!=null){if(item.__op_idx__('content')!=null){return item.__op_idx__('content');}else if(item.__op_idx__('excerpt')!=null){return item.__op_idx__('excerpt');}else{return _getSiteTitle(item);}}return index.toString();}}},_getSiteTitle:function _getSiteTitle(item){const __thiz__=this;const __arg_ctx__={item,};with(__thiz__){with(__arg_ctx__){let site=item.__op_idx__('site');if(site!=null&&site.__op_idx__('name')!=null){return site.__op_idx__('name');}return'';}}},_getImageUrl:function _getImageUrl(index){const __thiz__=this;const __arg_ctx__={index,};with(__thiz__){with(__arg_ctx__){if(index>=feedList.length){return'';}let item=feedList.__op_idx__(index);let images=item.__op_idx__('images');if(images==null||images.length<1){return'';}let image=images.__op_idx__(0);return'https://photo.tuchong.com/'+image.__op_idx__('user_id').toString()+'/f/'+image.__op_idx__('img_id').toString()+'.jpg';}}},_onImageSaveTap:function _onImageSaveTap(index){const __thiz__=this;const __arg_ctx__={index,};with(__thiz__){with(__arg_ctx__){FairCommonPlugin().savePhoto(convertObjectLiteralToSetOrMap({['pageName']:_pageName,['callback']:function dummy(result){let success=result.__op_idx__('success');if(success==true){FairCommonPlugin().showToast(convertObjectLiteralToSetOrMap({['pageName']:_pageName,['msg']:'图片保存成功',}));}},['url']:_getImageUrl(index),}));}}},};_PluginDemoState.prototype.ctor=function(){};;return _PluginDemoState();}},[]);})(convertObjectLiteralToSetOrMap(JSON.parse('#FairProps#')));